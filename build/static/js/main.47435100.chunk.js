(this["webpackJsonpmy-car"]=this["webpackJsonpmy-car"]||[]).push([[0],{42:function(e,t,r){},43:function(e,t,r){},52:function(e,t){e.exports={carMaster:[{model:"Swift Dzire VXi",make:"Maruti",fuel:"Diesel",colors:["White","Silver Grey","Metallic Blue","Red"],type:"Sedan",transmission:"Manual"},{model:"Etios SMi",make:"Toyota",fuel:"Diesel",colors:["White","Steel Grey","Black"],type:"Hatchback",transmission:"Manual"},{model:"City AXi",make:"Honda",fuel:"Petrol",colors:["Silver Grey","Metallic Blue","Black"],type:"Sedan",transmission:"Automatic"},{model:"Swift DXi",make:"Maruti",fuel:"Diesel",colors:["White","Red","Black"],type:"Hatchback",transmission:"Manual"},{model:"Etios VXi",make:"Toyota",fuel:"Diesel",colors:["White","Silver Grey","Black"],type:"Sedan",transmission:"Manual"},{model:"City ZXi",make:"Honda",fuel:"Petrol",colors:["Silver Grey","Metallic Blue","Red"],type:"Sedan",transmission:"Manual"}],cars:[{id:"ABR12",price:4e5,year:2015,kms:25e3,model:"Swift Dzire VXi",color:"White"},{id:"CBN88",price:48e4,year:2012,kms:75e3,model:"Etios SMi",color:"Steel Grey"},{id:"XER34",price:3e5,year:2013,kms:55e3,model:"City AXi",color:"Metallic Blue"},{id:"MPQ29",price:4e5,year:2015,kms:25e3,model:"Swift DXi",color:"Black"},{id:"PYQ88",price:48e4,year:2012,kms:75e3,model:"Etios VXi",color:"White"},{id:"DFI61",price:3e5,year:2013,kms:55e3,model:"City ZXi",color:"Red"},{id:"JUW88",price:4e5,year:2015,kms:25e3,model:"Swift Dzire VXi",color:"White"},{id:"KPW09",price:285e3,year:2012,kms:76321,model:"Swift Dzire VXi",color:"White"},{id:"NHH09",price:725e3,year:2018,kms:15e3,model:"City ZXi",color:"Silver Grey"},{id:"CTT26",price:815e3,year:2016,kms:42500,model:"City AXi",color:"Metallic Blue"},{id:"VAU55",price:345e3,year:2014,kms:81559,model:"Swift DXi",color:"Red"},{id:"BTR31",price:184e3,year:2011,kms:120833,model:"Etios VXi",color:"Silver Grey"}]}},72:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(34),i=r.n(c),s=(r(42),r.p,r(43),r(0));var o=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,73)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),a(e),n(e),c(e),i(e)}))},l=(r(45),r(9)),u=r(10),d=r(11),h=r(13),m=r(12),p=function(e){Object(h.a)(r,e);var t=Object(m.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(d.a)(r,[{key:"render",value:function(){return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("nav",{className:"nav navbar-expand  navbar-light",style:{backgroundColor:"#e3f2fd"},children:Object(s.jsx)("div",{className:"",id:"navbarSupportedContent",children:Object(s.jsxs)("ul",{className:" navbar-nav ml-auto  ",children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(l.b,{to:"/cars",className:"nav-link text-dark",children:"Home"})}),Object(s.jsx)("div",{class:"float-end",children:Object(s.jsx)("li",{className:"nav-item ",children:Object(s.jsx)(l.b,{to:"/cars/add",className:"nav-link ml-auto",children:"Add Car"})})})]})})})})}}]),r}(a.Component),j=p,b=r(4),f=r.n(b),v=r(22),x=r(14),O=r(37),y=(r(52),r(17)),g=r.n(y),k="http://localhost:2410";var N={get:function(e){return g.a.get(k+e)},post:function(e,t){return g.a.post(k+e,t)},put:function(e,t){return g.a.put(k+e,t)},deleteApi:function(e){return g.a.delete(k+e)}},C=function(e){Object(h.a)(r,e);var t=Object(m.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={Car:{id:"",price:Number,kms:Number,year:Number,model:"",color:""},Model:[],carMaster:[],edit:!1},e.showDropDown=function(t,r,a,c,i){return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"form-group-label",children:t}),Object(s.jsxs)("select",{className:"form-control",id:a,name:a,value:c,onChange:e.handleChange,children:[Object(s.jsx)("option",{value:"",children:i}),r.length>0?r.map((function(e){return Object(s.jsx)("option",{children:e})})):""]})]})})},e.makeTextField=function(t,r,a,c){return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"form-control-label",children:t}),Object(s.jsx)("input",{className:"form-control",type:"price"===r?"number":"text",name:r,onChange:e.handleChange,value:a,placeholder:c})]})})},e.handleChange=function(t){var r=t.currentTarget,a=Object(O.a)({},e.state);a.Car[r.name]=r.value,e.setState(a)},e.handleSubmit=function(t){t.preventDefault();var r=e.state,a=r.Car;r.edit?e.PutData("/cars/".concat(a.id),a):e.PostData("/cars",a)},e.getColor=function(t){var r=e.state.carMaster;console.log(t);var a=t?r.findIndex((function(e){return e.model===t})):-1;return a>=0?r[a].colors:[]},e}return Object(d.a)(r,[{key:"componentDidMount",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/cars");case 2:t=e.sent,r=t.data,a=r.carMaster.reduce((function(e,t){return e.find((function(e){return e===t.model}))?e:[].concat(Object(v.a)(e),[t.model])}),[]),this.setState({Model:a,carMaster:r.carMaster}),this.fetchData();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.match.params.id)){e.next=10;break}return console.log(t),e.next=5,N.get("/cars/".concat(t));case 5:r=e.sent,a=r.data,this.setState({Car:a,edit:!0}),e.next=11;break;case 10:t||(n={id:"",price:Number,kms:Number,year:Number,model:"",color:""},this.setState({Car:n,edit:!1}));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"PostData",value:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post(t,r);case 2:a=e.sent,console.log(a),this.props.history.push("/cars");case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"PutData",value:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In PUT"),e.next=3,N.put(t,r);case 3:a=e.sent,console.log(a),this.props.history.push("/cars");case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(x.a)(f.a.mark((function e(t,r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t!==this.props&&this.fetchData();case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.Model,r=e.edit,a=this.state.Car,c=a.id,i=a.price,o=a.kms,l=a.year,u=a.model,d=a.color;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsxs)("div",{className:"container border border-success",children:[Object(s.jsx)("h3",{className:"text-center",children:r?"Edit car":"Add Car"}),this.makeTextField("Car ID","id",c,"Enter ID"),this.makeTextField("Price","price",i,"Enter Price"),this.makeTextField("Mileage in kms","kms",o,"Enter Mileage"),this.makeTextField("Year Of Manufacture","year",l,"Enter Year"),Object(s.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(s.jsx)("div",{className:"col-4",children:this.showDropDown("Model",t,"model",u,"Select Model")}),Object(s.jsx)("div",{className:"col-4"}),Object(s.jsx)("div",{className:"col-4",children:this.showDropDown("Color",this.getColor(u),"color",d,"Select Color")})]}),Object(s.jsx)("div",{className:"text-center",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.handleSubmit,children:r?"Update":"Submit"})})]})})}}]),r}(a.Component),S=C,w=function(e){Object(h.a)(r,e);var t=Object(m.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={fuels:["Petrol","Diesel"],Types:["Hatchback","Sedan"],Sort:["kms","price","year"]},e.handleChange=function(t){var r=t.currentTarget,a=e.props.option;a[r.name]=r.value,e.props.onOptionChange(a)},e.showRadio=function(t,r,a,c){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("label",{className:"form-check-label font-weight-bold text-dark",children:t}),Object(s.jsx)("hr",{className:"border-dark"}),r.map((function(t,r){return Object(s.jsxs)("div",{className:"form-check border-primary bg-light",children:[Object(s.jsx)("input",{className:"from-check-input ",type:"radio",name:a,value:t,onChange:e.handleChange,checked:t===c}),Object(s.jsx)("label",{className:"from-check-label",children:t})]})}))]})},e}return Object(d.a)(r,[{key:"render",value:function(){var e=this.state,t=e.fuels,r=e.Types,a=e.Sort,c=this.props.option,i=c.fuel,o=void 0===i?"":i,l=c.type,u=void 0===l?"":l,d=c.sort,h=void 0===d?"":d;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsxs)("div",{className:"container border border-light bg-light ",style:{marginTop:"26%",height:"100%"},children:[Object(s.jsx)("h5",{className:"text-center"}),Object(s.jsx)("div",{className:"conatiner  border border-dark font-weight",style:{marginTop:"5%"},children:this.showRadio("Fuel",t,"fuel",o)}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"conatiner  border border-dark font-weight",children:this.showRadio("Type",r,"type",u)}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"conatiner  border border-dark font-weight",children:this.showRadio("Sort By",a,"sort",h)})]})})}}]),r}(a.Component),M=w,D=r(18),P=r.n(D),T=function(e){Object(h.a)(r,e);var t=Object(m.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={cars:[],carMaster:[],prices:{minprice:Number,maxprice:Number}},e.addToQueryString=function(e,t,r){return r?e?"".concat(e,"&").concat(t,"=").concat(r):"".concat(t,"=").concat(r):e},e.onOptionChangeHandler=function(t){e.callURL("/cars",t)},e.callURL=function(t,r){var a=e.makeSerchstring(r);e.props.history.push({pathname:t,search:a})},e.makefilter=function(){var t=P.a.parse(e.props.location.search);e.state.carMaster;return Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-3",children:Object(s.jsx)("h5",{className:"text-dark",children:"Select Price Range :"})}),Object(s.jsx)("div",{className:"col-3",children:Object(s.jsx)("input",{className:"form-control",type:"number",name:"minprice",value:t.minprice,onChange:e.handleChange,placeholder:"Enter MinPrice"})}),Object(s.jsx)("div",{className:"col-3",children:Object(s.jsx)("input",{className:"form-control",type:"number",name:"maxprice",value:t.maxprice,onChange:e.handleChange,placeholder:"Enter MaxPrice"})})]})})},e.handleChange=function(t){var r=t.currentTarget,a=P.a.parse(e.props.location.search);a[r.name]=r.value,e.callURL("/cars",a)},e.filterqueryParampricemin=function(e,t,r){return r?e.filter((function(e){return e.price>r})):e},e.filterqueryParampricemax=function(e,t,r){return r?e.filter((function(e){return e.price<r})):e},e.filterqueryParam=function(t,r,a){if(a){var n=e.getAllDifferentValues(r,a);return t.filter((function(e){return n.find((function(t){return t===e.model}))}))}return t},e.sortqueryParam=function(e,t,r){return r?e.sort((function(e,t){return e[r]-t[r]})):e},e.getAllDifferentValues=function(t,r){var a=e.state;a.cars;return a.carMaster.reduce((function(e,a){return a[t]===r?e:[].concat(Object(v.a)(e),[a.model])}),[])},e}return Object(d.a)(r,[{key:"makeSerchstring",value:function(e){var t=e.fuel,r=e.type,a=e.sort,n=e.minprice,c=e.maxprice,i="";return i=this.addToQueryString(i,"fuel",t),i=this.addToQueryString(i,"type",r),i=this.addToQueryString(i,"sort",a),i=this.addToQueryString(i,"minprice",n),i=this.addToQueryString(i,"maxprice",c)}},{key:"fetchData",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=P.a.parse(this.props.location.search),r=this.makeSerchstring(t),e.next=4,N.get("/cars?".concat(r));case 4:a=e.sent,n=a.data,this.setState({cars:n.cars,carMaster:n.carMaster});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e,t){e!==this.props&&this.fetchData()}},{key:"ArrangeByQueryParams",value:function(e,t){var r=t.fuel,a=void 0===r?"":r,n=t.type,c=void 0===n?"":n,i=t.sort,s=void 0===i?"":i,o=t.minprice,l=t.maxprice;return e=this.filterqueryParam(e,"fuel",a),e=this.filterqueryParam(e,"type",c),e=this.filterqueryParampricemin(e,"price",o),e=this.filterqueryParampricemax(e,"price",+l),e=this.sortqueryParam(e,"sort",s)}},{key:"render",value:function(){var e=P.a.parse(this.props.location.search),t=this.state,r=t.cars,a=t.carMaster,c=this.ArrangeByQueryParams(r,e);return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-3",children:Object(s.jsx)(M,{option:e,onOptionChange:this.onOptionChangeHandler,carMaster:a})}),Object(s.jsxs)("div",{className:"col-9",children:[Object(s.jsx)("h3",{className:"mx-auto text-center text-dark",children:" All cars"}),this.makefilter(),Object(s.jsx)("div",{className:"row",children:c.map((function(e){return Object(s.jsxs)("div",{className:"col-3 border border-primary bg-warning text-dark",children:[Object(s.jsxs)("div",{className:"container text-center",children:[Object(s.jsx)("h4",{children:e.model}),Object(s.jsxs)("h6",{children:["Price:",e.price]}),Object(s.jsxs)("h6",{children:["Color:",e.color]}),Object(s.jsxs)("h6",{children:["Mileage:",e.kms]}),Object(s.jsxs)("h6",{children:["Manufactured in:",e.year]})]}),Object(s.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(s.jsx)(l.b,{to:"/cars/".concat(e.id,"/delete"),children:Object(s.jsx)("i",{className:"far fa-trash-alt"})}),Object(s.jsx)(l.b,{to:"/cars/".concat(e.id,"/edit"),children:Object(s.jsx)("i",{className:"fas fa-edit"})})]})]})}))})]})]})})})}}]),r}(a.Component),A=T,F=function(e){Object(h.a)(r,e);var t=Object(m.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(d.a)(r,[{key:"componentDidMount",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,N.deleteApi("/cars/".concat(t));case 3:e.sent,this.props.history.push("/cars");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(s.jsx)(n.a.Fragment,{})}}]),r}(a.Component),B=F,X=r(2),R=function(e){Object(h.a)(r,e);var t=Object(m.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(d.a)(r,[{key:"render",value:function(){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(j,{}),Object(s.jsxs)(X.c,{children:[Object(s.jsx)(X.a,{path:"/cars/add",component:S}),Object(s.jsx)(X.a,{path:"/cars/:id/delete",component:B}),Object(s.jsx)(X.a,{path:"/cars/:id/edit",component:S}),Object(s.jsx)(X.a,{path:"/cars",component:A})]})]})}}]),r}(a.Component),E=R;i.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(l.a,{children:Object(s.jsx)(E,{})})}),document.getElementById("root")),o()}},[[72,1,2]]]);
//# sourceMappingURL=main.47435100.chunk.js.map